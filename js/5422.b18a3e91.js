"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[5422],{5422:function(e,r,t){t.r(r),t.d(r,{default:function(){return n}});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"reg"},[r("el-form",{ref:"ruleForm",staticClass:"login_form",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"80px"}},[r("h3",{staticClass:"login-title"},[e._v("忘记密码")]),r("el-form-item",{attrs:{label:"手机号码",prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.ruleForm.account,callback:function(r){e.$set(e.ruleForm,"account",e._n(r))},expression:"ruleForm.account"}})],1),r("el-form-item",{attrs:{label:"验证码",prop:"captch"}},[r("div",{staticClass:"bind_code margin_top"},[r("el-input",{staticClass:"bind_code_input code",attrs:{type:"text",placeholder:"请输入验证码"},model:{value:e.ruleForm.captcha,callback:function(r){e.$set(e.ruleForm,"captcha",r)},expression:"ruleForm.captcha"}}),r("el-link",{staticClass:"bind_code_gain",attrs:{type:"info",disabled:e.ruleForm.disabled,underline:!1},on:{click:e.bindforgetSendCode}},[e._v(e._s(e.ruleForm.btnText))])],1)]),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入新密码"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请确认新密码"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("确认")]),r("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")]),r("back-button")],1)],1)],1)},l=[],o=t(1502),a={name:"region",data(){var e=(e,r,t)=>{""==r?t(new Error("请输入手机号")):this.isCellPhone(r)?t():t(new Error("请输入正确的手机号!"))},r=(e,r,t)=>{""===r?t(new Error("请输入密码")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),t())},t=(e,r,t)=>{""===r?t(new Error("请再次输入密码")):r!==this.ruleForm.pass?t(new Error("两次输入密码不一致!")):t()};return{ruleForm:{pass:"",checkPass:"",account:"",btnText:"发送验证码",disabled:!1},rules:{pass:[{required:!0,validator:r,trigger:"blur"}],checkPass:[{required:!0,validator:t,trigger:"blur"}],account:[{required:!0,validator:e,trigger:"blur"}],captcha:[{required:!0,message:"请输入短信验证码",trigger:"blur"}]}}},methods:{isCellPhone(e){return!!/^1(3|4|5|6|7|8)\d{9}$/.test(e)},bindforgetSendCode(){const e=this.ruleForm;this.$refs.ruleForm.validateField("account",(r=>{if(console.log(r),r)return!1;this.$message("已发送验证码，请查收"),this.ruleForm.btnText="请稍候...",(0,o.xx)({account:e.account,type:0}).then((e=>{})),setTimeout((()=>{this.ruleForm.disabled=!0,this.doLoop(60)}),500)}))},doLoop(e){console.log(e),e=e||60,this.ruleForm.btnText=e+"s后获取";let r=setInterval((()=>{e>0?(this.ruleForm.btnText=e+"s后获取",--e):(this.ruleForm.btnText="获取验证码",this.ruleForm.disabled=!1,clearInterval(r))}),1e3)},submitForm(){const e=this.ruleForm;this.$refs.ruleForm.validate((r=>{r&&(0,o.ls)({account:e.account,captcha:e.captcha,password:e.pass}).then((e=>{this.$message.success("修改成功"),this.$router.replace("/login")}))}))},resetForm(e){this.$refs[e].resetFields()}}},c=a,i=t(1001),u=(0,i.Z)(c,s,l,!1,null,null,null),n=u.exports}}]);
//# sourceMappingURL=5422.b18a3e91.js.map