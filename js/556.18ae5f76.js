"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[556,7166],{8223:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"all"},[e("div",{staticClass:"allcenter"},[e("div",{staticClass:"allcenter-header"},[t._v(" 楼栋信息 "),e("div",{staticClass:"allcenter-right",on:{click:t.close}},[t._v("关闭")])]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:16}},[e("div",{staticClass:"allcenter-content"},[e("div",{staticClass:"allcenter-content-header"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[e("el-row",[e("el-col",{attrs:{span:4}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"地址",clearable:""},model:{value:t.formInline.address,callback:function(e){t.$set(t.formInline,"address",e)},expression:"formInline.address"}})],1)],1),e("el-col",{attrs:{span:4}},[e("el-form-item",{attrs:{prop:"type"}},[e("el-select",{attrs:{placeholder:"房屋类型",clearable:""},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},[e("el-option",{attrs:{label:"自建房",value:"0"}}),e("el-option",{attrs:{label:"独立楼宇",value:"1"}}),e("el-option",{attrs:{label:"小区",value:"2"}})],1)],1)],1),e("el-col",{attrs:{span:4}},[e("el-form-item",{attrs:{prop:"is_party"}},[e("el-select",{attrs:{placeholder:"建筑类型",clearable:""},model:{value:t.formInline.kind,callback:function(e){t.$set(t.formInline,"kind",e)},expression:"formInline.kind"}},[e("el-option",{attrs:{label:"公寓",value:"0"}}),e("el-option",{attrs:{label:"住宅",value:"1"}}),e("el-option",{attrs:{label:"商住两用",value:"2"}}),e("el-option",{attrs:{label:"商用",value:"3"}})],1)],1)],1),e("el-col",{attrs:{span:4}},[e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")])],1)],1)],1)],1)],1),e("div",{staticClass:"allcenter-content-content"},[e("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:t.tableData,"highlight-current-row":""},on:{"cell-click":t.cellHandleclick}},[e("el-table-column",{attrs:{prop:"address",label:"地址",width:"200"}}),e("el-table-column",{attrs:{prop:"buildingname",label:"建筑名称",width:"200"}}),e("el-table-column",{attrs:{prop:"type",label:"房屋类型",width:"150"}}),e("el-table-column",{attrs:{prop:"kind",label:"建筑类型",width:"150"}})],1)],1)])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"allcenter-righth"},[e("div",{staticClass:"allcenter-content-header-one"},[t._v(" 人户分离 ")]),e("div",{staticClass:"allcenter-content-contents"},[e("el-descriptions",{staticClass:"sctives",attrs:{title:"楼栋信息",column:1}},[e("el-descriptions-item",{attrs:{label:"小区"}},[t._v(t._s(t.list.address))]),e("el-descriptions-item",{attrs:{label:"楼栋号"}},[t._v(t._s(t.list.type))]),e("el-descriptions-item",{attrs:{label:"户数"}},[t._v(t._s(t.list.kind))]),e("el-descriptions-item",{attrs:{label:"人口"}},[t._v(t._s(t.list.age))]),e("el-descriptions-item",{attrs:{label:"群组户数"}},[t._v("2")]),e("el-descriptions-item",{attrs:{label:"消防设施"}},[t._v("齐全")]),e("el-descriptions-item",{attrs:{label:"群组户数"}},[t._v("2")]),e("el-descriptions-item",{attrs:{label:"群组户数"}},[t._v("2")])],1),e("div",{staticClass:"content_footer"},[e("el-button",{staticClass:"allcenter-rights",attrs:{size:"mini"},on:{click:function(e){return t.all()}}},[t._v("房屋绑定")])],1),e("div",{staticClass:"img"},[e("img",{attrs:{src:n(2803)}})])],1)])])],1)],1),t.show?e("div",[e("v-build",{attrs:{id:t.id,name:t.name},on:{closeds:t.closeds}})],1):t._e()])},s=[],i=(n(7658),n(5809)),r=n(1502),a=n(2787),o=n(1684),c={components:{"v-build":a["default"]},data(){return{id:"",name:"",show:!1,formInline:{address:"",type:"",kind:""},list:[],tableData:[]}},mounted(){this.getList()},methods:{getList(){(0,r.Sk)({access_token:this.$store.state.token,address:this.formInline.address,num:50,type:(0,i.U_)(this.formInline.type),kind:(0,i.U_)(this.formInline.kind)}).then((t=>{this.total=t.total;let e=[];t.list.forEach((t=>{const n={id:t.id,address:t.address,type:(0,i.hm)(t.type),building_name:t.building_name,kind:(0,i.Q6)(t.kind)};e.push(n)})),this.tableData=e,this.list=this.tableData[0]}))},close(){this.$router.go(-1)},cellHandleclick(t,e,n,l){let s=this;(0,r.aN)({access_token:this.$store.state.token,id:t.id}).then((t=>{s.list=t}))},all(t){this.show=!0,this.id=this.list.id,this.name=this.list.building_name;let e=this.id;o.Z.commit("buildingid",e)},closeds(t){this.show=t}}},u=c,d=n(1001),f=(0,d.Z)(u,l,s,!1,null,null,null),m=f.exports},5809:function(t,e,n){n.d(e,{Hl:function(){return d},IT:function(){return c},J8:function(){return m},Kw:function(){return f},Ms:function(){return i},Q6:function(){return o},U_:function(){return l},WO:function(){return p},Wm:function(){return h},XE:function(){return u},Zs:function(){return b},eg:function(){return r},h7:function(){return s},hm:function(){return a}});n(7658);function l(t){return""==t?void 0:t}function s(t){return t.replace(/^(.{3})(?:\w+)(.{4})$/,"$1**$2")}function i(t){return 0==t?"女":"男"}function r(t){return 0==t?"否":"是"}function a(t){return 0==t?"自建房":1==t?"独立楼宇":2==t?"小区":void 0}function o(t){return 0==t?"公寓":1==t?"住宅":2==t?"商住两用":3==t?"商用":void 0}function c(t){return 0==t?"未婚":"已婚"}function u(t){return 0==t?"否":"是"}function d(t){return 0==t?"非党员":"党员"}function f(t){return 0==t?"否":"是"}function m(t){var e,n,l,s=0,i=t;if(!i)return s;var r=/(^\d{15}$)|(^\d{17}([0-9]|X)$)/;if(r.test(i)){if(15==i.length){var a=i.substring(6,12);e="19"+a.substring(0,2),n=a.substring(2,4),l=a.substring(4,6)}else 18==i.length&&(e=i.substring(6,10),n=i.substring(10,12),l=i.substring(12,14));var o=new Date,c=o.getMonth()+1,u=o.getDate();s=o.getFullYear()-e;return(c<n||c==n&&u<l)&&s--,s}return""}function p(t){var e=t;return parseInt(e.substr(16,1))%2==1?"男":"女"}function h(t){const e=s(t.tel),n=s(t.haoma),l={user:t.user,region:t.region,tel:e,haoma:n,address:t.address};return l}function b(t,e){let n=t.toString().length<13?new Date(1e3*t):new Date(t),l=n.getFullYear(),s=n.getMonth()+1,i=n.getDate(),r=n.getHours()<10?`0${n.getHours()}`:n.getHours(),a=n.getMinutes()<10?`0${n.getMinutes()}`:n.getMinutes(),o=n.getSeconds()<10?`0${n.getSeconds()}`:n.getSeconds();return e=e||"Y-M-D H:m:s",e=e.indexOf("Y")>-1?e.replace("Y",l):e,e=e.indexOf("M")>-1?e.replace("M",s):e,e=e.indexOf("D")>-1?e.replace("D",i):e,e=e.indexOf("H")>-1?e.replace("H",r):e,e=e.indexOf("h")>-1?e.replace("h",r>12?r-12:r):e,e=e.indexOf("m")>-1?e.replace("m",a):e,e=e.indexOf("s")>-1?e.replace("s",o):e,e}}}]);
//# sourceMappingURL=556.18ae5f76.js.map