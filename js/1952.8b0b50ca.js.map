{"version":3,"file":"js/1952.8b0b50ca.js","mappings":"qJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAII,GAAG,UAAUF,EAAG,eAAeA,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,UAAU,CAACI,IAAI,WAAWD,YAAY,gBAAgBE,MAAM,CAAC,MAAQP,EAAIQ,SAAS,MAAQR,EAAIS,MAAM,cAAc,UAAU,CAACP,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACL,EAAG,kBAAkB,CAACK,MAAM,CAAC,oBAAoBP,EAAIU,iBAAiB,YAAc,SAASC,GAAG,CAAC,OAASX,EAAIY,cAAcC,MAAM,CAACC,MAAOd,EAAIQ,SAASO,KAAMC,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIQ,SAAU,OAAQS,EAAI,EAAEE,WAAW,oBAAoB,GAAGjB,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,QAAQ,KAAO,kBAAkB,CAACL,EAAG,YAAY,CAACK,MAAM,CAAC,YAAc,OAAOM,MAAM,CAACC,MAAOd,EAAIQ,SAASY,cAAeJ,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIQ,SAAU,gBAAiBS,EAAI,EAAEE,WAAW,2BAA2B,CAACjB,EAAG,YAAY,CAACK,MAAM,CAAC,MAAQ,KAAK,MAAQ,KAAKL,EAAG,YAAY,CAACK,MAAM,CAAC,MAAQ,QAAQ,MAAQ,KAAKL,EAAG,YAAY,CAACK,MAAM,CAAC,MAAQ,OAAO,MAAQ,MAAM,IAAI,GAAGL,EAAG,eAAe,CAACA,EAAG,YAAY,CAACK,MAAM,CAAC,OAAQ,EAAK,KAAO,WAAWI,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOrB,EAAIsB,WAAW,WAAW,IAAI,CAACtB,EAAII,GAAG,UAAUF,EAAG,YAAY,CAACS,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOrB,EAAIuB,UAAU,WAAW,IAAI,CAACvB,EAAII,GAAG,SAAS,IAAI,IAAI,IAAI,EAC3wC,EACIoB,EAAkB,G,oBC4BtB,GACAC,OAEA,OACAC,QAAA,KACAC,YAAA,GACAC,KAAA,GACAC,GAAA,GACArB,SAAA,CACAY,cAAA,GACAS,GAAA,GACAd,KAAA,IAEAN,MAAA,CACAM,KAAA,EACAe,UAAA,EACAC,QAAA,QACAC,QAAA,SAEAZ,cAAA,EACAU,UAAA,EACAC,QAAA,MACAC,QAAA,UAIA,EACAC,iBAAAC,EAAAC,EAAAC,GACAF,EAAAG,KAAAC,WAAA,EACAF,GACA,EACAG,UACA,KAAAC,MAEA,EACAC,QAAA,CACA/B,iBAAAgC,EAAAC,GACA,IAAAhB,EAAA,KAAAA,YACAiB,EAAAF,EAAAf,EAAAkB,OAAA,KAAAC,kBAAAJ,IAAAf,EACAoB,aAAA,KAAArB,SACA,KAAAA,QAAAsB,YAAA,KACAL,EAAAC,EAAA,GACA,IAAAK,KAAAC,SACA,EACAJ,kBAAAJ,GACA,OAAAS,GACAA,EAAArC,MAAAsC,cAAAC,QAAAX,EAAAU,gBAAA,CAEA,EACAxC,aAAA0C,GACA,KAAAzB,GAAAyB,EAAAzB,EACA,EACAW,QACAe,EAAAA,EAAAA,IAAA,CACAC,aAAA,KAAAC,OAAAN,MAAAO,QACAC,MAAAC,IACA,IAAAC,EAAA,GACAD,EAAAhC,KAAAkC,SAAAR,IACA,MAAA1B,EAAA,CACAC,GAAAyB,EAAAzB,GACAf,MAAAwC,EAAAvC,MAEA8C,EAAAE,KAAAnC,EAAA,IAEA,KAAAD,YAAAkC,CAAA,GAEA,EACAvC,WAAA0C,GACA,MAAAC,EAAA,KAAAzD,SACAqB,EAAA,KAAAqC,OAAAC,MAAAtC,GACA,KAAAuC,MAAAJ,GAAAK,UAAAC,IACA,IAAAA,EAaA,OADAC,QAAAC,IAAA,mBACA,GAZAC,EAAAA,EAAAA,IAAA,CACAjB,aAAA,KAAAC,OAAAN,MAAAO,MACAgB,UAAA7C,EACA8C,YAAA,KAAA9C,GACAT,cAAA6C,EAAA7C,gBACAuC,MAAAC,QACA,KAAAgB,SAAA,CACA7C,QAAA,OACA8C,KAAA,WAKA,GAEA,EACAtD,UAAAyC,GACA,KAAAI,MAAAJ,GAAAc,aACA,ICxH4Q,I,UCOxQC,GAAY,OACd,EACAhF,EACAyB,GACA,EACA,KACA,KACA,MAIF,EAAeuD,EAAiB,O","sources":["webpack://demo/./src/components/inhabitall/inhabitant/familybind.vue","webpack://demo/src/components/inhabitall/inhabitant/familybind.vue","webpack://demo/./src/components/inhabitall/inhabitant/familybind.vue?def4","webpack://demo/./src/components/inhabitall/inhabitant/familybind.vue?f364"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\"成员绑定\")]),_c('back-button'),_c('div',{staticClass:\"commadd_content\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-autocomplete',{attrs:{\"fetch-suggestions\":_vm.querySearchAsync,\"placeholder\":\"请输入内容\"},on:{\"select\":_vm.handleSelect},model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"与成员关系\",\"prop\":\"relation_type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.relation_type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"relation_type\", $$v)},expression:\"ruleForm.relation_type\"}},[_c('el-option',{attrs:{\"label\":\"夫妻\",\"value\":0}}),_c('el-option',{attrs:{\"label\":\"父子/母子\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"其他关系\",\"value\":2}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"plain\":true,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"立即绑定\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h1>成员绑定</h1>\r\n    <back-button></back-button>\r\n    <div class=\"commadd_content\">\r\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-autocomplete v-model=\"ruleForm.name\" :fetch-suggestions=\"querySearchAsync\" placeholder=\"请输入内容\"\r\n            @select=\"handleSelect\"></el-autocomplete>\r\n        </el-form-item>\r\n        <el-form-item label=\"与成员关系\" prop=\"relation_type\">\r\n          <el-select v-model=\"ruleForm.relation_type\" placeholder=\"请选择\">\r\n            <el-option label=\"夫妻\" :value=\"0\"></el-option>\r\n            <el-option label=\"父子/母子\" :value=\"1\"></el-option>\r\n            <el-option label=\"其他关系\" :value=\"2\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button :plain=\"true\" type=\"primary\" @click=\"submitForm('ruleForm')\">立即绑定</el-button>\r\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import {\r\n    bingpeoplerelation,\r\n    index\r\n  } from '../../../config/api.js'\r\n  export default {\r\n    data() {\n      name:'familybinfd,'\r\n      return {\n        timeout:null,\n        restaurants:[],\n        list:[],\r\n        id: '',\r\n        ruleForm: {\r\n          relation_type: '',\r\n          id: '',\r\n          name: ''\r\n        },\r\n        rules: {\r\n          name: [{\r\n            required: true,\r\n            message: '请输入姓名',\r\n            trigger: 'blur'\r\n          }, ],\r\n          relation_type: [{\r\n            required: true,\r\n            message: '请选择',\r\n            trigger: 'blur'\r\n          }, ],\r\n        },\r\n      }\r\n    },\n    beforeRouteLeave(to, from, next) {\n      to.meta.keepAlive = true;\n      next()\n    },\r\n    mounted() {\r\n      this.init()\n      // this.restaurants = this.loadAll();\r\n    },\r\n    methods: {\r\n      querySearchAsync(queryString, cb) {\r\n        var restaurants = this.restaurants;\r\n        var results = queryString ? restaurants.filter(this.createStateFilter(queryString)) : restaurants;\r\n        clearTimeout(this.timeout);\r\n        this.timeout = setTimeout(() => {\r\n          cb(results);\r\n        }, 1000 * Math.random());\r\n      },\r\n      createStateFilter(queryString) {\r\n        return (state) => {\r\n          return (state.value.toLowerCase().indexOf(queryString.toLowerCase()) >-1);\r\n        };\r\n      },\r\n      handleSelect(item) {\r\n        this.id=item.id\r\n      },\r\n      init() {\r\n        index({\r\n          access_token: this.$store.state.token,\r\n        }).then(res => {\n          let listall=[]\n          res.list.forEach(item => {\n           const list = {\n             id:item.id,\n             value: item.name,\n           }\n           listall.push(list)\n         })\n         this.restaurants=listall\r\n        });\r\n      },\r\n      submitForm(formName) {\r\n        const fromdata = this.ruleForm\r\n        const id = this.$route.query.id\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            bingpeoplerelation({\r\n              access_token: this.$store.state.token,\r\n              people_id: id,\r\n              relation_id: this.id,\r\n              relation_type: fromdata.relation_type,\r\n            }).then(res => {});\r\n            this.$message({\r\n              message: '添加成功',\r\n              type: 'success'\r\n            });\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./familybind.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./familybind.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./familybind.vue?vue&type=template&id=32e73f5b&\"\nimport script from \"./familybind.vue?vue&type=script&lang=js&\"\nexport * from \"./familybind.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_v","staticClass","ref","attrs","ruleForm","rules","querySearchAsync","on","handleSelect","model","value","name","callback","$$v","$set","expression","relation_type","$event","submitForm","resetForm","staticRenderFns","data","timeout","restaurants","list","id","required","message","trigger","beforeRouteLeave","to","from","next","meta","keepAlive","mounted","init","methods","queryString","cb","results","filter","createStateFilter","clearTimeout","setTimeout","Math","random","state","toLowerCase","indexOf","item","index","access_token","$store","token","then","res","listall","forEach","push","formName","fromdata","$route","query","$refs","validate","valid","console","log","bingpeoplerelation","people_id","relation_id","$message","type","resetFields","component"],"sourceRoot":""}