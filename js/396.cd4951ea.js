"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[396],{396:function(e,r,t){t.r(r),t.d(r,{default:function(){return m}});var l=function(){var e=this,r=e._self._c;return r("div",[r("div",[r("div",{staticClass:"commaddcenter_header"},[r("back-button"),r("el-button",{attrs:{plain:!0,type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("更新信息")])],1),r("div",{staticClass:"commadd_content"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"房间号",prop:"house_num"}},[r("el-input",{attrs:{width:"100px"},model:{value:e.ruleForm.house_num,callback:function(r){e.$set(e.ruleForm,"house_num",r)},expression:"ruleForm.house_num"}})],1),r("el-form-item",{attrs:{label:"楼层",prop:"floor"}},[r("el-input",{model:{value:e.ruleForm.floor,callback:function(r){e.$set(e.ruleForm,"floor",r)},expression:"ruleForm.floor"}})],1),r("el-form-item",{attrs:{label:"面积",prop:"area"}},[r("el-input",{model:{value:e.ruleForm.area,callback:function(r){e.$set(e.ruleForm,"area",r)},expression:"ruleForm.area"}})],1),r("el-form-item",{attrs:{label:"户型结构",prop:"structure"}},[r("el-input",{model:{value:e.ruleForm.structure,callback:function(r){e.$set(e.ruleForm,"structure",r)},expression:"ruleForm.structure"}})],1),r("el-form-item",{attrs:{label:"装修情况",prop:"decoration"}},[r("el-input",{model:{value:e.ruleForm.decoration,callback:function(r){e.$set(e.ruleForm,"decoration",r)},expression:"ruleForm.decoration"}})],1),r("el-form-item",{attrs:{label:"房屋朝向",prop:"direction"}},[r("el-input",{model:{value:e.ruleForm.direction,callback:function(r){e.$set(e.ruleForm,"direction",r)},expression:"ruleForm.direction"}})],1),r("el-form-item",{attrs:{label:"梯户比例",prop:"elevator_house"}},[r("el-input",{model:{value:e.ruleForm.elevator_house,callback:function(r){e.$set(e.ruleForm,"elevator_house",r)},expression:"ruleForm.elevator_house"}})],1),r("el-form-item",{attrs:{label:"建筑绑定"}},[r("el-select",{attrs:{clearable:""},model:{value:e.ruleForm.building_id,callback:function(r){e.$set(e.ruleForm,"building_id",r)},expression:"ruleForm.building_id"}},e._l(e.buildid,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"房屋类型",prop:"is_private_house"}},[r("el-select",{attrs:{placeholder:"是否私有"},model:{value:e.ruleForm.is_private_house,callback:function(r){e.$set(e.ruleForm,"is_private_house",r)},expression:"ruleForm.is_private_house"}},[r("el-option",{attrs:{label:"否",value:0}}),r("el-option",{attrs:{label:"是",value:1}})],1)],1)],1)],1)])])},o=[],u=(t(7658),t(1502)),i={data(){return{buildid:"",ruleForm:{is_private_house:"",building_id:"",floor:"",house_num:"",area:"",structure:"",decoration:"",direction:"",elevator_house:"",building_id:""},rules:{is_private_house:[{required:!0,message:"请输入地址",trigger:"blur"}],floor:[{required:!0,message:"请输入名称",trigger:"blur"}],house_num:[{required:!0,message:"请选择",trigger:"blur"}],area:[{required:!0,message:"请选择",trigger:"blur"}],structure:[{required:!0,message:"请选择",trigger:"blur"}],decoration:[{required:!0,message:"请选择",trigger:"blur"}],direction:[{required:!0,message:"请选择",trigger:"blur"}],elevator_house:[{required:!0,message:"请选择",trigger:"blur"}]}}},beforeRouteLeave(e,r,t){e.meta.keepAlive=!0,t()},mounted(){this.getlist()},methods:{getlist(){const e=this.$route.query.id;(0,u.x_)({access_token:this.$store.state.token,id:e}).then((e=>{this.ruleForm=e})),(0,u.Sk)({access_token:this.$store.state.token}).then((e=>{let r=[];e.list.forEach((e=>{let t={value:e.id,label:e.building_name};r.push(t)})),this.buildid=r,console.log(this.buildid,111)}))},submitForm(){const e=this.ruleForm,r=this.$route.query.id;(0,u.Ax)({id:r,access_token:this.$store.state.token,access_token:this.$store.state.token,is_private_house:e.is_private_house,building_id:e.building_id,floor:e.floor,house_num:e.house_num,area:e.area,structure:e.structure,decoration:e.decoration,direction:e.direction,elevator_house:e.elevator_house,building_id:e.building_id}).then((e=>{this.$message.success("更新成功")}))}}},s=i,a=t(1001),n=(0,a.Z)(s,l,o,!1,null,null,null),m=n.exports}}]);
//# sourceMappingURL=396.cd4951ea.js.map