"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[3923,3897],{3923:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"success"},[t("h1",[e._v("便民工程")]),t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:{formInline:e.formInline}}},[t("el-row",{attrs:{span:24}},[t("el-col",{attrs:{span:4}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"名称"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新增审批")])],1)],1)],1)],1),0==e.list.length?t("el-empty",{attrs:{description:"没有数据","image-size":430}}):e._e(),e.list.length?t("el-table",{staticStyle:{width:"100%",height:"600px"},attrs:{data:e.list.slice((e.form.pageNum-1)*e.form.pageSize,e.form.pageNum*e.form.pageSize)}},[t("el-table-column",{attrs:{prop:"user",label:"名称",width:"100"}}),t("el-table-column",{attrs:{prop:"user",label:"创建时间",width:"100"}}),t("el-table-column",{attrs:{prop:"tel",label:"内容",width:"100"}}),t("el-table-column",{attrs:{align:"center",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(r){return[1===r.row.status?t("span",{staticStyle:{color:"#1890FF","font-size":"14px"}},[e._v(" 审批中 ")]):2===r.row.status?t("span",{staticStyle:{color:"lightgreen","font-size":"14px"}},[e._v(" 审批完成 ")]):3===r.row.status?t("span",{staticStyle:{color:"red","font-size":"14px"}},[e._v(" 审批驳回 ")]):4===r.row.status?t("span",{staticStyle:{color:"orange","font-size":"14px"}},[e._v(" 计划完成 ")]):e._e()]}}],null,!1,1735583401)}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handledetails(r.row)}}},[e._v("详情")])]}}],null,!1,2710212409)})],1):e._e(),e.show?t("div",[t("gadd",{on:{closed:e.closed}})],1):e._e(),t("pages",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.form.pageNum,limit:e.form.pageSize},on:{"update:page":function(t){return e.$set(e.form,"pageNum",t)},"update:limit":function(t){return e.$set(e.form,"pageSize",t)},pagination:function(t){return e.getData(e.form)}}})],1)},s=[],n=(r(7658),r(5809)),l=r(3897),o={components:{gadd:l["default"]},data(){return{show:!1,formInline:{user:"",region:""},status:"1",form:{pageNum:1,pageSize:10},total:10,lists:[],list:[{user:"wan",region:"shanghai",haoma:"14230319960405314",tel:"15588889999",address:"上海市徐汇区老沪闵路",status:1},{user:"wan4",region:"beijing",tel:"15588889999",haoma:"1333894668995654",address:"上海市徐汇区老沪闵路",status:2},{user:"wan1",region:"shanghai",tel:"15588889999",haoma:"146894668995654",address:"上海市徐汇区老沪闵路",status:3},{user:"wan2",region:"shanghai",tel:"15588889999",haoma:"123444668995654",address:"上海市徐汇区老沪闵路",status:4}]}},mounted(){this.onshow(),this.total=this.lists.length;let e="142303199604053123";(0,n.J8)(e),(0,n.WO)(e)},methods:{add(){this.$router.push("/Approvalgongcheng/gongchengadd")},closed(e){this.show=e},handledetails(e){this.$router.push({path:"/Approvalgongcheng/gongchengdetail",query:{id:e.user,haoma:e.haoma}})},handleEdit(e,t){this.commshowsa=!0},onshow(){this.list.forEach((e=>{let t=(0,n.Wm)(e);this.lists.push(t)}))},onSubmit(){this.lists=[],this.list.forEach((e=>{if(e.user==this.formInline.user){let t=(0,n.Wm)(e);if(this.lists.push(t),e.tel==this.formInline.tel){this.lists=[];let t=(0,n.Wm)(e);this.lists.push(t)}}else if(e.haoma==this.formInline.haoma){let t=(0,n.Wm)(e);this.lists.push(t)}}))}}},i=o,u=r(1001),c=(0,u.Z)(i,a,s,!1,null,null,null),m=c.exports},3897:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",[t("back-button"),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),t("div",{staticClass:"gongchengheader"},[t("div",{staticClass:"words"},[t("div",{staticClass:"words_center"},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"活动名称",prop:"name"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"活动时间",prop:"date1"}},[t("el-form-item",{attrs:{prop:"date1"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date1,callback:function(t){e.$set(e.ruleForm,"date1",t)},expression:"ruleForm.date1"}})],1)],1)],1)],1),t("el-row",[t("table",{attrs:{border:"1",width:"600",height:"300",cellspacing:"0"}},[t("tbody",[t("tr",[t("td",[e._v(" 姓名 ")]),t("td",[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("td",[e._v("性别")]),t("td",[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("td",{attrs:{rowspan:"4"}})]),t("tr",[t("td",[e._v(" 政治面貌 ")]),t("td",[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("td",[e._v("籍贯")]),t("td",[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)]),t("tr",[t("td",[e._v(" 出生年月 ")]),t("td",[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("td",[e._v("工作单位")]),t("td",[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)]),t("tr",[t("td",{attrs:{colspan:"2"}},[e._v(" 备注 ")]),t("td",{attrs:{colspan:"2"}},[t("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)]),t("tr",[t("td",{staticStyle:{height:"200px"}},[e._v(" 照片 ")]),t("td",{attrs:{colspan:"2"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("td",{attrs:{colspan:"3"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t("tr",[t("td",{attrs:{rowspan:"5"}},[e._v(" 备注 ")]),t("td",{attrs:{colspan:"4"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1)])])])])],1)],1)])])],1)},s=[],n=(r(7658),{data(){return{imageUrl:"",ruleForm:{name:"",region:"",date1:"",date2:"",resource:"",desc:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}},methods:{submitForm(e){this.$router.push("/Approvalgongcheng/gongcheng"),this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1}))},handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload(e){const t="image/jpeg"===e.type;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),t},resetForm(e){this.$refs[e].resetFields()},returns(){let e=!1;this.$emit("closed",e)}}}),l=n,o=r(1001),i=(0,o.Z)(l,a,s,!1,null,"32ce67d6",null),u=i.exports},5809:function(e,t,r){r.d(t,{Hl:function(){return m},IT:function(){return u},J8:function(){return p},Kw:function(){return d},Ms:function(){return n},Q6:function(){return i},U_:function(){return a},WO:function(){return g},Wm:function(){return f},XE:function(){return c},Zs:function(){return h},eg:function(){return l},h7:function(){return s},hm:function(){return o}});r(7658);function a(e){return""==e?void 0:e}function s(e){return e.replace(/^(.{3})(?:\w+)(.{4})$/,"$1**$2")}function n(e){return 0==e?"女":"男"}function l(e){return 0==e?"否":"是"}function o(e){return 0==e?"自建房":1==e?"独立楼宇":2==e?"小区":void 0}function i(e){return 0==e?"公寓":1==e?"住宅":2==e?"商住两用":3==e?"商用":void 0}function u(e){return 0==e?"未婚":"已婚"}function c(e){return 0==e?"否":"是"}function m(e){return 0==e?"非党员":"党员"}function d(e){return 0==e?"否":"是"}function p(e){var t,r,a,s=0,n=e;if(!n)return s;var l=/(^\d{15}$)|(^\d{17}([0-9]|X)$)/;if(l.test(n)){if(15==n.length){var o=n.substring(6,12);t="19"+o.substring(0,2),r=o.substring(2,4),a=o.substring(4,6)}else 18==n.length&&(t=n.substring(6,10),r=n.substring(10,12),a=n.substring(12,14));var i=new Date,u=i.getMonth()+1,c=i.getDate();s=i.getFullYear()-t;return(u<r||u==r&&c<a)&&s--,s}return""}function g(e){var t=e;return parseInt(t.substr(16,1))%2==1?"男":"女"}function f(e){const t=s(e.tel),r=s(e.haoma),a={user:e.user,region:e.region,tel:t,haoma:r,address:e.address};return a}function h(e,t){let r=e.toString().length<13?new Date(1e3*e):new Date(e),a=r.getFullYear(),s=r.getMonth()+1,n=r.getDate(),l=r.getHours()<10?`0${r.getHours()}`:r.getHours(),o=r.getMinutes()<10?`0${r.getMinutes()}`:r.getMinutes(),i=r.getSeconds()<10?`0${r.getSeconds()}`:r.getSeconds();return t=t||"Y-M-D H:m:s",t=t.indexOf("Y")>-1?t.replace("Y",a):t,t=t.indexOf("M")>-1?t.replace("M",s):t,t=t.indexOf("D")>-1?t.replace("D",n):t,t=t.indexOf("H")>-1?t.replace("H",l):t,t=t.indexOf("h")>-1?t.replace("h",l>12?l-12:l):t,t=t.indexOf("m")>-1?t.replace("m",o):t,t=t.indexOf("s")>-1?t.replace("s",i):t,t}}}]);
//# sourceMappingURL=3923.5aef1bab.js.map