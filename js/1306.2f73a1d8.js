"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[1306],{1306:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"success"},[e("h1",[t._v("建筑管理")]),e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:{formInline:t.formInline}}},[e("el-row",{attrs:{span:24}},[e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"名称",clearable:""},model:{value:t.formInline.address,callback:function(e){t.$set(t.formInline,"address",e)},expression:"formInline.address"}})],1)],1),e("el-col",{attrs:{span:3}},[e("el-form-item",{attrs:{prop:"type"}},[e("el-select",{attrs:{placeholder:"房屋类型",clearable:""},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},[e("el-option",{attrs:{label:"自建房",value:"0"}}),e("el-option",{attrs:{label:"独立楼宇",value:"1"}}),e("el-option",{attrs:{label:"小区",value:"2"}})],1)],1)],1),e("el-col",{attrs:{span:3}},[e("el-form-item",{attrs:{prop:"is_party"}},[e("el-select",{attrs:{placeholder:"建筑类型",clearable:""},model:{value:t.formInline.kind,callback:function(e){t.$set(t.formInline,"kind",e)},expression:"formInline.kind"}},[e("el-option",{attrs:{label:"公寓",value:"0"}}),e("el-option",{attrs:{label:"住宅",value:"1"}}),e("el-option",{attrs:{label:"商住两用",value:"2"}}),e("el-option",{attrs:{label:"商用",value:"3"}})],1)],1)],1),e("el-col",{attrs:{span:3}},[e("el-form-item",{attrs:{prop:"type"}},[e("el-select",{attrs:{placeholder:"是否老旧小区改造",clearable:""},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},[e("el-option",{attrs:{label:"否",value:"0"}}),e("el-option",{attrs:{label:"是",value:"1"}})],1)],1)],1),e("el-col",{attrs:{span:9}},[e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")])],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")])],1)],1)],1)],1),e("div",{staticStyle:{position:"relative"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists,height:"580px"}},[e("el-table-column",{attrs:{prop:"address",label:"地址",width:"200",fixed:""}}),e("el-table-column",{attrs:{prop:"buildingname",label:"建筑名称",width:"200"}}),e("el-table-column",{attrs:{prop:"type",label:"房屋类型",width:"150"}}),e("el-table-column",{attrs:{prop:"kind",label:"建筑类型",width:"150"}}),e("el-table-column",{attrs:{prop:"kind",label:"是否老旧小区改造",width:"150"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handledetails(n.row)}}},[t._v("详情")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handfamily(n.row)}}},[t._v("关联房屋")])]}}])})],1)],1),e("pages",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.form.pageNum,limit:t.form.pageSize},on:{"update:page":function(e){return t.$set(t.form,"pageNum",e)},"update:limit":function(e){return t.$set(t.form,"pageSize",e)},pagination:function(e){return t.getData(t.form)}}})],1)},l=[],i=(n(7658),n(5809)),a=n(1502),s={data(){return{show:!1,formInline:{address:"",type:"",kind:""},form:{pageNum:1,pageSize:10},empty:!1,total:10,lists:[],listall:[]}},activated(){this.getList()},mounted(){this.getList(),this.getData()},methods:{add(){this.$router.push({path:"/building/buildingadd"})},getList(){(0,a.Sk)({access_token:this.$store.state.token,page:this.form.pageNum,num:this.form.pageSize,address:this.formInline.address,type:(0,i.U_)(this.formInline.type),kind:(0,i.U_)(this.formInline.kind)}).then((t=>{this.total=t.total;let e=[];t.list.forEach((t=>{const n={id:t.id,address:t.address,type:(0,i.hm)(t.type),buildingname:t.building_name,kind:(0,i.Q6)(t.kind)};e.push(n)})),this.lists=e}))},getData(t){this.getList()},handfamily(t){this.$router.push({path:"/building/buildbind",query:{id:t.id}})},handledetails(t){this.$router.push({path:"/building/buildingdetail",query:{id:t.id}})}}},o=s,u=n(1001),d=(0,u.Z)(o,r,l,!1,null,null,null),c=d.exports},5809:function(t,e,n){n.d(e,{Hl:function(){return c},IT:function(){return u},J8:function(){return f},Kw:function(){return p},Ms:function(){return i},Q6:function(){return o},U_:function(){return r},WO:function(){return m},Wm:function(){return h},XE:function(){return d},Zs:function(){return g},eg:function(){return a},h7:function(){return l},hm:function(){return s}});n(7658);function r(t){return""==t?void 0:t}function l(t){return t.replace(/^(.{3})(?:\w+)(.{4})$/,"$1**$2")}function i(t){return 0==t?"女":"男"}function a(t){return 0==t?"否":"是"}function s(t){return 0==t?"自建房":1==t?"独立楼宇":2==t?"小区":void 0}function o(t){return 0==t?"公寓":1==t?"住宅":2==t?"商住两用":3==t?"商用":void 0}function u(t){return 0==t?"未婚":"已婚"}function d(t){return 0==t?"否":"是"}function c(t){return 0==t?"非党员":"党员"}function p(t){return 0==t?"否":"是"}function f(t){var e,n,r,l=0,i=t;if(!i)return l;var a=/(^\d{15}$)|(^\d{17}([0-9]|X)$)/;if(a.test(i)){if(15==i.length){var s=i.substring(6,12);e="19"+s.substring(0,2),n=s.substring(2,4),r=s.substring(4,6)}else 18==i.length&&(e=i.substring(6,10),n=i.substring(10,12),r=i.substring(12,14));var o=new Date,u=o.getMonth()+1,d=o.getDate();l=o.getFullYear()-e;return(u<n||u==n&&d<r)&&l--,l}return""}function m(t){var e=t;return parseInt(e.substr(16,1))%2==1?"男":"女"}function h(t){const e=l(t.tel),n=l(t.haoma),r={user:t.user,region:t.region,tel:e,haoma:n,address:t.address};return r}function g(t,e){let n=t.toString().length<13?new Date(1e3*t):new Date(t),r=n.getFullYear(),l=n.getMonth()+1,i=n.getDate(),a=n.getHours()<10?`0${n.getHours()}`:n.getHours(),s=n.getMinutes()<10?`0${n.getMinutes()}`:n.getMinutes(),o=n.getSeconds()<10?`0${n.getSeconds()}`:n.getSeconds();return e=e||"Y-M-D H:m:s",e=e.indexOf("Y")>-1?e.replace("Y",r):e,e=e.indexOf("M")>-1?e.replace("M",l):e,e=e.indexOf("D")>-1?e.replace("D",i):e,e=e.indexOf("H")>-1?e.replace("H",a):e,e=e.indexOf("h")>-1?e.replace("h",a>12?a-12:a):e,e=e.indexOf("m")>-1?e.replace("m",s):e,e=e.indexOf("s")>-1?e.replace("s",o):e,e}}}]);
//# sourceMappingURL=1306.2f73a1d8.js.map