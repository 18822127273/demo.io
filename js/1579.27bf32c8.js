"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[1579],{1579:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var r=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("房屋绑定")]),t("back-button"),t("div",{staticClass:"commadd_content"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"房屋绑定"}},[t("el-select",{attrs:{clearable:""},model:{value:e.ruleForm.house_id,callback:function(t){e.$set(e.ruleForm,"house_id",t)},expression:"ruleForm.house_id"}},e._l(e.houseid,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"与房屋关系",prop:"type"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[t("el-option",{attrs:{label:"房主",value:0}}),t("el-option",{attrs:{label:"住户",value:1}}),t("el-option",{attrs:{label:"租户",value:2}})],1)],1),t("el-form-item",{attrs:{label:"是否在此居住",prop:"is_live"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.is_live,callback:function(t){e.$set(e.ruleForm,"is_live",t)},expression:"ruleForm.is_live"}},[t("el-option",{attrs:{label:"否",value:0}}),t("el-option",{attrs:{label:"是",value:1}})],1)],1),t("el-button",{attrs:{plain:!0,type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即绑定")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},s=[],o=(l(7658),l(1502)),i={data(){return{houseid:"",ruleForm:{type:"",is_live:"",house_id:""},rules:{type:[{required:!0,message:"请输入地址",trigger:"blur"}],is_live:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},beforeRouteLeave(e,t,l){e.meta.keepAlive=!0,l()},mounted(){this.init()},methods:{init(){(0,o.I8)({access_token:this.$store.state.token}).then((e=>{let t=[];e.list.forEach((e=>{let l={value:e.id,label:e.house_num};t.push(l)})),this.houseid=t}))},submitForm(e){const t=this.ruleForm,l=this.$route.query.id;this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;(0,o.qh)({access_token:this.$store.state.token,people_id:l,house_id:t.house_id,type:t.type,is_live:t.is_live}).then((e=>{})),this.$message({message:"添加成功",type:"success"})}))},resetForm(e){this.$refs[e].resetFields()}}},u=i,a=l(1001),n=(0,a.Z)(u,r,s,!1,null,null,null),m=n.exports}}]);
//# sourceMappingURL=1579.27bf32c8.js.map