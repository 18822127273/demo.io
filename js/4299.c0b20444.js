"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[4299],{4299:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"success"},[t("h1",[e._v("居民管理")]),t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:{formInline:e.formInline}}},[t("el-row",{attrs:{span:24}},[t("el-col",{attrs:{span:3}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"姓名",clearable:""},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"身份证号",clearable:""},model:{value:e.formInline.id_card,callback:function(t){e.$set(e.formInline,"id_card",t)},expression:"formInline.id_card"}})],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",{attrs:{prop:"education"}},[t("el-select",{attrs:{placeholder:"学历",clearable:""},model:{value:e.formInline.education,callback:function(t){e.$set(e.formInline,"education",t)},expression:"formInline.education"}},[t("el-option",{attrs:{label:"小学",value:"0"}}),t("el-option",{attrs:{label:"初中",value:"1"}}),t("el-option",{attrs:{label:"高中",value:"2"}}),t("el-option",{attrs:{label:"大学",value:"3"}}),t("el-option",{attrs:{label:"硕士研究生",value:"4"}}),t("el-option",{attrs:{label:"博士研究生",value:"5"}})],1)],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",{attrs:{prop:"is_party"}},[t("el-select",{attrs:{placeholder:"党员",clearable:""},model:{value:e.formInline.is_party,callback:function(t){e.$set(e.formInline,"is_party",t)},expression:"formInline.is_party"}},[t("el-option",{attrs:{label:"非党员",value:"0"}}),t("el-option",{attrs:{label:"党员",value:"1"}})],1)],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",{attrs:{prop:"is_resident"}},[t("el-select",{attrs:{placeholder:"常驻人员",clearable:""},model:{value:e.formInline.is_resident,callback:function(t){e.$set(e.formInline,"is_resident",t)},expression:"formInline.is_resident"}},[t("el-option",{attrs:{label:"非常住",value:"0"}}),t("el-option",{attrs:{label:"常住",value:"1"}})],1)],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",{attrs:{prop:"age"}},[t("el-select",{attrs:{placeholder:"年龄段",clearable:""},model:{value:e.formInline.age,callback:function(t){e.$set(e.formInline,"age",t)},expression:"formInline.age"}},[t("el-option",{attrs:{label:"0-10",value:"0-10"}}),t("el-option",{attrs:{label:"11-35",value:"11-35"}}),t("el-option",{attrs:{label:"36-65",value:"36-65"}}),t("el-option",{attrs:{label:"66-150",value:"66-150"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.getList}},[e._v("查询")])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")])],1),t("el-form-item",[t("enterxlsx")],1),t("el-form-item",[t("el-button",{attrs:{type:"text"},on:{click:e.exportexcel}},[e._v("导出")])],1)],1)],1)],1),e.show?t("export-excel-common",{attrs:{list:e.listexport},on:{close:e.close}}):e._e(),t("div",{staticStyle:{width:"100%",position:"relative"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.lists,height:"580px",stripe:"","highlight-current-row":""}},[t("el-table-column",{attrs:{prop:"name",label:"名字",width:"150",fixed:""}}),t("el-table-column",{attrs:{prop:"gender",label:"性别",width:"150"}}),t("el-table-column",{attrs:{prop:"age",label:"年龄",width:"150"}}),t("el-table-column",{attrs:{prop:"id_card",label:"身份证号",width:"150"}}),t("el-table-column",{attrs:{prop:"tags",label:"标签",width:"150"}}),t("el-table-column",{attrs:{prop:"religion",label:"电话",width:"150"}}),t("el-table-column",{attrs:{prop:"address",label:"居住地址",width:"150"}}),t("el-table-column",{attrs:{label:"操作",fixed:"right",width:"400"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handledetails(n.row)}}},[e._v("详情")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.housebind(n.row)}}},[e._v("房屋绑定")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.familybind(n.row)}}},[e._v("成员绑定")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handfamily(n.row)}}},[e._v("关联成员")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.relacthouse(n.row)}}},[e._v("关联房屋")])]}}])})],1)],1),t("pages",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.form.pageNum,limit:e.form.pageSize},on:{"update:page":function(t){return e.$set(e.form,"pageNum",t)},"update:limit":function(t){return e.$set(e.form,"pageSize",t)},pagination:function(t){return e.getData(e.form)}}})],1)},a=[],i=(n(7658),n(5809)),l=n(1502),s={data(){return{show:!1,formInline:{name:"",id_card:"",education:"",age:"",is_party:"",is_resident:"",region_id:""},form:{pageNum:1,pageSize:10},empty:!1,total:10,lists:[],listexport:[],addressname:"",value:""}},activated(){this.getList()},mounted(){this.getList(),this.getData()},methods:{add(){this.$router.push({path:"/inhabitant/inhabitantadd"})},exportexcel(){this.show=!0},close(){this.show=!1},getList(){(0,l.Kz)({access_token:this.$store.state.token,page:this.form.pageNum,num:this.form.pageSize,age:this.formInline.age,id_card:this.formInline.id_card,name:this.formInline.name,education:this.formInline.education,is_party:this.formInline.is_party,is_resident:this.formInline.is_resident}).then((e=>{this.total=e.total;let t=[],n=[];e.list.forEach((e=>{const r={id:e.id,name:e.name,id_card:(0,i.h7)(e.id_card),age:(0,i.J8)(e.id_card),gender:(0,i.WO)(e.id_card),id_card_address:e.id_card_address,tags:e.tags,religion:e.religion,is_resident:e.is_resident,addresss:e.address,region_id:"南河社区"};t.push(r),(0,l.hZ)({id:e.native_place_province_id}).then((t=>{this.addressname=t.region_name;const r={name:e.name,name_used_before:e.name_used_before,age:(0,i.J8)(e.id_card),id_card:e.id_card,tags:e.tags,address:this.addressname,gender:(0,i.WO)(e.id_card),is_party:(0,i.Hl)(e.is_party),native_place_id:e.native_place_id,profession:e.profession,id_card_address:e.id_card_address,residential_quarters_address:e.residential_quarters_address,company:e.company,company_address:e.company_address,birth_address:e.birth_address,education:e.education,marital_status:(0,i.IT)(e.marital_status),religion:e.religion,is_resident:(0,i.Kw)(e.is_resident)};n.push(r)}))})),this.lists=t,this.listexport=n}))},getData(e){this.getList()},handfamily(e){this.$router.push({path:"/inhabitant/inhabitfamily",query:{id:e.id}})},handledetails(e){this.$router.push({path:"/inhabitant/inhabitdetail",query:{id:e.id}})},housebind(e){this.$router.push({path:"/inhabitant/housebind",query:{id:e.id}})},familybind(e){this.$router.push({path:"/inhabitant/familybind",query:{id:e.id}})},relacthouse(e){this.$router.push({path:"/inhabitant/housefamily",query:{id:e.id}})}}},o=s,u=n(1001),d=(0,u.Z)(o,r,a,!1,null,null,null),c=d.exports},5809:function(e,t,n){n.d(t,{Hl:function(){return c},IT:function(){return u},J8:function(){return m},Kw:function(){return p},Ms:function(){return i},Q6:function(){return o},U_:function(){return r},WO:function(){return f},Wm:function(){return h},XE:function(){return d},Zs:function(){return _},eg:function(){return l},h7:function(){return a},hm:function(){return s}});n(7658);function r(e){return""==e?void 0:e}function a(e){return e.replace(/^(.{3})(?:\w+)(.{4})$/,"$1**$2")}function i(e){return 0==e?"女":"男"}function l(e){return 0==e?"否":"是"}function s(e){return 0==e?"自建房":1==e?"独立楼宇":2==e?"小区":void 0}function o(e){return 0==e?"公寓":1==e?"住宅":2==e?"商住两用":3==e?"商用":void 0}function u(e){return 0==e?"未婚":"已婚"}function d(e){return 0==e?"否":"是"}function c(e){return 0==e?"非党员":"党员"}function p(e){return 0==e?"否":"是"}function m(e){var t,n,r,a=0,i=e;if(!i)return a;var l=/(^\d{15}$)|(^\d{17}([0-9]|X)$)/;if(l.test(i)){if(15==i.length){var s=i.substring(6,12);t="19"+s.substring(0,2),n=s.substring(2,4),r=s.substring(4,6)}else 18==i.length&&(t=i.substring(6,10),n=i.substring(10,12),r=i.substring(12,14));var o=new Date,u=o.getMonth()+1,d=o.getDate();a=o.getFullYear()-t;return(u<n||u==n&&d<r)&&a--,a}return""}function f(e){var t=e;return parseInt(t.substr(16,1))%2==1?"男":"女"}function h(e){const t=a(e.tel),n=a(e.haoma),r={user:e.user,region:e.region,tel:t,haoma:n,address:e.address};return r}function _(e,t){let n=e.toString().length<13?new Date(1e3*e):new Date(e),r=n.getFullYear(),a=n.getMonth()+1,i=n.getDate(),l=n.getHours()<10?`0${n.getHours()}`:n.getHours(),s=n.getMinutes()<10?`0${n.getMinutes()}`:n.getMinutes(),o=n.getSeconds()<10?`0${n.getSeconds()}`:n.getSeconds();return t=t||"Y-M-D H:m:s",t=t.indexOf("Y")>-1?t.replace("Y",r):t,t=t.indexOf("M")>-1?t.replace("M",a):t,t=t.indexOf("D")>-1?t.replace("D",i):t,t=t.indexOf("H")>-1?t.replace("H",l):t,t=t.indexOf("h")>-1?t.replace("h",l>12?l-12:l):t,t=t.indexOf("m")>-1?t.replace("m",s):t,t=t.indexOf("s")>-1?t.replace("s",o):t,t}}}]);
//# sourceMappingURL=4299.c0b20444.js.map