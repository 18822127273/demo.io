"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[9892],{9892:function(e,r,t){t.r(r),t.d(r,{default:function(){return n}});var s=function(){var e=this,r=e._self._c;return r("div",[r("back-button"),e._v(" 个人中心 ")],1)},o=[],l=t(1502),i={data(){var e=(e,r,t)=>{""==r?t(new Error("请输入手机号")):this.isCellPhone(r)?t():t(new Error("请输入正确的手机号!"))},r=(e,r,t)=>{""===r?t(new Error("请输入密码")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),t())},t=(e,r,t)=>{""===r?t(new Error("请再次输入密码")):r!==this.ruleForm.pass?t(new Error("两次输入密码不一致!")):t()};return{ruleForm:{pass:"",checkPass:"",account:"",btnText:"发送验证码",disabled:!1},rules:{pass:[{required:!0,validator:r,trigger:"blur"}],checkPass:[{required:!0,validator:t,trigger:"blur"}],account:[{required:!0,validator:e,trigger:"blur"}],captcha:[{required:!0,message:"请输入短信验证码",trigger:"blur"}]}}},methods:{isCellPhone(e){return!!/^1(3|4|5|6|7|8)\d{9}$/.test(e)},bindforgetSendCode(){const e=this.ruleForm;this.$refs.ruleForm.validateField("account",(r=>{if(console.log(r),r)return!1;this.$message("已发送验证码，请查收"),this.ruleForm.btnText="请稍候...",(0,l.xx)({account:e.account,type:0}).then((e=>{console.log(e,1111)})),setTimeout((()=>{this.ruleForm.disabled=!0,this.doLoop(60)}),500)}))},doLoop(e){console.log(e),e=e||60,this.ruleForm.btnText=e+"s后获取";let r=setInterval((()=>{e>0?(this.ruleForm.btnText=e+"s后获取",--e):(this.ruleForm.btnText="获取验证码",this.ruleForm.disabled=!1,clearInterval(r))}),1e3)},submitForm(e){const r=this.ruleForm;this.$refs.ruleForm.validate((e=>{e&&(0,l.ls)({account:r.account,captcha:r.captcha,password:r.pass}).then((e=>{if(console.log("忘记密码"),this.$route.query.redirect){this.$message.success("修改成功");let e=this.$route.query.redirect;this.$router.replace(e)}else this.$router.replace("/")}))}))},resetForm(e){this.$refs[e].resetFields()}}},u=i,a=t(1001),c=(0,a.Z)(u,s,o,!1,null,null,null),n=c.exports}}]);
//# sourceMappingURL=9892.d906e004.js.map