"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[5764],{5764:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"success"},[e("h1",[t._v("房屋管理")]),e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:{formInline:t.formInline}}},[e("el-row",{attrs:{span:24}},[e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"房间号",clearable:""},model:{value:t.formInline.house_num,callback:function(e){t.$set(t.formInline,"house_num",e)},expression:"formInline.house_num"}})],1)],1),e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-select",{attrs:{placeholder:"是否自建房",clearable:""},model:{value:t.formInline.is_private_house,callback:function(e){t.$set(t.formInline,"is_private_house",e)},expression:"formInline.is_private_house"}},[e("el-option",{attrs:{label:"否",value:"0"}}),e("el-option",{attrs:{label:"是",value:"1"}})],1)],1)],1),e("el-col",{attrs:{span:15}},[e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")])],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增")])],1)],1)],1)],1),e("div",{staticStyle:{position:"relative"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists,height:"580px"}},[e("el-table-column",{attrs:{prop:"house_num",label:"房间号",width:"100"}}),e("el-table-column",{attrs:{prop:"floor",label:"楼层",width:"100"}}),e("el-table-column",{attrs:{prop:"area",label:"面积",width:"100"}}),e("el-table-column",{attrs:{prop:"structure",label:"楼房结构",width:"100"}}),e("el-table-column",{attrs:{prop:"decoration",label:"装修情况",width:"100"}}),e("el-table-column",{attrs:{prop:"direction",label:"房屋朝向",width:"100"}}),e("el-table-column",{attrs:{prop:"is_private_house",label:"是否自建房",width:"100"}}),e("el-table-column",{attrs:{prop:"elevator_house",label:"梯户比例",width:"100"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handledetails(n.row)}}},[t._v("详情")]),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handfamily(n.row)}}},[t._v("关联成员")])]}}])})],1)],1),e("pages",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.form.pageNum,limit:t.form.pageSize},on:{"update:page":function(e){return t.$set(t.form,"pageNum",e)},"update:limit":function(e){return t.$set(t.form,"pageSize",e)},pagination:function(e){return t.getData(t.form)}}})],1)},i=[],o=(n(7658),n(5809)),u=n(1502),a={data(){return{formInline:{is_private_house:"",building_id:"",floor:"",house_num:"",area:"",structure:"",decoration:"",direction:"",elevator_house:""},form:{pageNum:1,pageSize:10},empty:!1,total:10,lists:[],listall:[]}},activated(){this.getList()},mounted(){this.getList()},methods:{add(){this.$router.push({path:"/house/houseadd"})},getList(){const t=this.$route.query.id;(0,u.I8)({access_token:this.$store.state.token,building_id:t,house_num:this.formInline.house_num,is_private_house:this.formInline.is_private_house,page:this.form.pageNum,num:this.form.pageSize}).then((t=>{this.total=t.total;let e=[];t.list.forEach((t=>{const n={id:t.id,is_private_house:(0,o.eg)(t.is_private_house),building_id:t.building_id,floor:t.floor,house_num:t.house_num,area:t.area,structure:t.structure,decoration:t.decoration,direction:t.direction,elevator_house:t.elevator_house};e.push(n)})),this.lists=e}))},getData(t){this.getList()},handfamily(t){this.$router.push({path:"/house/housefamily",query:{id:t.id}})},handledetails(t){this.$router.push({path:"/house/housedetail",query:{id:t.id}})}}},s=a,l=n(1001),c=(0,l.Z)(s,r,i,!1,null,null,null),f=c.exports},5809:function(t,e,n){n.d(e,{Hl:function(){return f},IT:function(){return l},J8:function(){return h},Kw:function(){return d},Ms:function(){return o},Q6:function(){return s},U_:function(){return r},WO:function(){return p},Wm:function(){return m},XE:function(){return c},Zs:function(){return g},eg:function(){return u},h7:function(){return i},hm:function(){return a}});n(7658);function r(t){return""==t?void 0:t}function i(t){return t.replace(/^(.{3})(?:\w+)(.{4})$/,"$1**$2")}function o(t){return 0==t?"女":"男"}function u(t){return 0==t?"否":"是"}function a(t){return 0==t?"自建房":1==t?"独立楼宇":2==t?"小区":void 0}function s(t){return 0==t?"公寓":1==t?"住宅":2==t?"商住两用":3==t?"商用":void 0}function l(t){return 0==t?"未婚":"已婚"}function c(t){return 0==t?"否":"是"}function f(t){return 0==t?"非党员":"党员"}function d(t){return 0==t?"否":"是"}function h(t){var e,n,r,i=0,o=t;if(!o)return i;var u=/(^\d{15}$)|(^\d{17}([0-9]|X)$)/;if(u.test(o)){if(15==o.length){var a=o.substring(6,12);e="19"+a.substring(0,2),n=a.substring(2,4),r=a.substring(4,6)}else 18==o.length&&(e=o.substring(6,10),n=o.substring(10,12),r=o.substring(12,14));var s=new Date,l=s.getMonth()+1,c=s.getDate();i=s.getFullYear()-e;return(l<n||l==n&&c<r)&&i--,i}return""}function p(t){var e=t;return parseInt(e.substr(16,1))%2==1?"男":"女"}function m(t){const e=i(t.tel),n=i(t.haoma),r={user:t.user,region:t.region,tel:e,haoma:n,address:t.address};return r}function g(t,e){let n=t.toString().length<13?new Date(1e3*t):new Date(t),r=n.getFullYear(),i=n.getMonth()+1,o=n.getDate(),u=n.getHours()<10?`0${n.getHours()}`:n.getHours(),a=n.getMinutes()<10?`0${n.getMinutes()}`:n.getMinutes(),s=n.getSeconds()<10?`0${n.getSeconds()}`:n.getSeconds();return e=e||"Y-M-D H:m:s",e=e.indexOf("Y")>-1?e.replace("Y",r):e,e=e.indexOf("M")>-1?e.replace("M",i):e,e=e.indexOf("D")>-1?e.replace("D",o):e,e=e.indexOf("H")>-1?e.replace("H",u):e,e=e.indexOf("h")>-1?e.replace("h",u>12?u-12:u):e,e=e.indexOf("m")>-1?e.replace("m",a):e,e=e.indexOf("s")>-1?e.replace("s",s):e,e}}}]);
//# sourceMappingURL=5764.737d119f.js.map